{% extends 'base.html' %}
{% block content %}
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
table {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;
  border: 1px solid #ddd;
}

th, td {
  text-align: left;
  padding: 8px;
}

tr:nth-child(even){background-color: #f2f2f2}
</style>


<div class="breadcrumbs">
    <div class="col-sm-12">
        <h3><b>Vehicle MasterList</b></h3>
    </div>
</div>
<div class="content mt-3">
    <div class="animated fadeIn">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                <div class="card-header">
                  <a href="{% url 'vehiclelist_export' %}"> <u>Export VehicleList </u></a>
                    <!-- <a data-toggle="modal" data-target="#updateModal" style="float:right"> | <u>UPDATE RELEASE DATE</u></a> -->
                    <a href="{% url 'vnew' %}" style="float:right"><u>Add Vehicle Masterlist</u></a>
                </div> 
                <!-- <div style="overflow-x:auto;">                         -->
                <!-- <table id="bootstrap-data-table-export"a class="table table-striped table-bordered" style="max-width"> -->
                <table id="example" class="table table-striped table-bordered dt-responsive nowrap" style="width:100%">
                    <thead>
                        <tr>
                            <th>Activity No:</th>
                            <th>No.:</th>
                            <th>Plate Number:</th>
                            <th>Conductions Sticker No.:</th>
                            <th>CR Name:</th>
                            <th>Plate Ending</th>
                            <th>Registration Month</th>
                            <th>Model:</th>
                            <th>Brand:</th>
                            <th>Vehicle Make</th>
                            <th>Engine Number</th>
                            <th>Vehicle Type</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for Vmaster in object_list %}
                        <tr class="odd gradeX">
                            <td><a href="{% url 'vehicle-details' Vmaster.id %}"><u>{{ Vmaster.Activity_Id }}</u></a></td>
                            <td>{{ Vmaster.NO }}</td>
                            <td>{{ Vmaster.PLATE_NO }}</td>
                            <td>{{ Vmaster.CS_NO }}</td>
                            <td>{{ Vmaster.CR_NAME }}</td>
                            <td>{{ Vmaster.PLATE_ENDING}}</td>
                            <td>{{ Vmaster.REGISTRATION_MONTH}}</td>
                            <td>{{ Vmaster.MODEL }}</td>
                            <td>{{ Vmaster.BRAND }}</td>
                            <td>{{ Vmaster.VEHICLE_MAKE}}</td>
                            <td>{{ Vmaster.ENGINE_NO}}</td>
                            <td>{{ Vmaster.VEHICLE_TYPE }}</td>
                            <td></td>
                            <form action="{% url 'vehicleMasterlist_delete' Vmaster.id %}" method="POST">
                                {% csrf_token %}
                                <td><button title= "Delete"  class="btn btn-danger btn-sm" type="submit" name="button"><span class="fa fa-trash"></span></button></td>
                            </form>
                        </tr>
                        {% endfor %}
                    </tbody>
                    </table>
                  </div>
                </div>
            </div>
        </div>
    </div><!-- .animated -->
</div><!-- .content -->
<!-- vehicleUpdate MOdal-->
<!-- <form method="POST" action="">
{% csrf_token %}
  <div class="modal fade" id="updateModal" tabindex="-1" role="dialog" aria-labelledby="updateModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" >
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="page-header">Update Vehicle Masterlist</h2>
        </div>
        <div class="modal-body">
        <div class="tab-content">        <div class="row">
          <div class="col-sm-4">
            <label>Plate Number:</label>
            <input name="plate_no" id="plate_no" class="form-control" list="plate_list">
                <datalist id="plate_list">               
                {% for plate in vlist %}
                  <option data-value="{{ plate.Plate_no }} | {{ plate.Conduction_Sticker }} | {{
                  plate.CR_name}} | {{ plate.Ending }} | {{ plate.Model }} | {{ plate.Brand }}"value="{{ plate.Plate_no }} | {{ plate.Conduction_Sticker }}">
                  </option>
                {% endfor %}
                </datalist>
          </div>
          <div class="col-sm-4">
            <label>Conduction Sticker Number:</label>
            <input type="text" name="c_no" id="c_no" class="form-control" readonly>
          </div>
          <div class="col-sm-4">
            <label>CR Name:</label>
            <input type="text" name="cr_name" id="cr_name" class="form-control" readonly>
          </div>
          <div class="col-sm-4">
            <label >Ending:</label>
            <input type="text" name="ending" id="ending" class="form-control" readonly>
          </div>
          <div class="col-sm-4">
            <label>Model:</label>
            <input type="text" name="model" id="model" class="form-control" readonly>
          </div>
          <div class="col-sm-4">
            <label>Brand:</label>
            <input type="text" name="brand" id="brand" class="form-control" readonly>
          </div>
          <div class="col-sm-4">
            <label>Plate Number Release Date</label>
            <input type="Date" name="plate_release" id="plate_release" class="form-control" required>
          </div>
        </div>
          <div class="modal-footer">
        </div>
        </div>
        <div class="col-lg-12">
            <button class="button" type="submit">PROCEED</button>    
        </div>
      </div>
    </div>
  </div>
</div>
</div>
</form>
</div> -->

<!--for plate number auto-fill-->
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script type="text/javascript">
$('#plate_no').on('change', function () {
  var value = $('#plate_no').val();
  var val = ($('#plate_list [value="' + value + '"]').data('value'));
  var parts = val.split(" | ");
  $('#plate_no').val(parts[0]);
  $('#c_no').val(parts[1]);
  $('#cr_name').val(parts[2]);
  $('#ending').val(parts[3]);
  $('#model').val(parts[4]);
  $('#brand').val(parts[5]);
  // console.log(value);
});
</script> -->
{% endblock %}


