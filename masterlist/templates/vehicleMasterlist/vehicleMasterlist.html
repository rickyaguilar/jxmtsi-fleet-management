{% extends 'base.html' %}
{% block content %}
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
table {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;
  border: 1px solid #ddd;
}

th, td {
  text-align: left;
  padding: 8px;
}

tr:nth-child(even){background-color: #f2f2f2}
</style>


<div class="breadcrumbs">
    <div class="col-sm-12">
        <h3><b>Vehicle MasterList</b></h3>
    </div>
</div>
<div class="content mt-3">
    <div class="animated fadeIn">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                <div class="card-header">
                  <a href="{% url 'vehiclelist_export' %}"> <u>Export VehicleList </u></a>
                    <a href="{% url 'vehicle_new' %}" style="float:right"><u>Add Vehicle Masterlist</u></a>
                </div>
                    <table id="vtable" class="table table-striped table-bordered" style="width:100%" data-server-side="true" data-ajax="/api/masterlist/?format=datatables">
                    <thead>
                        <tr>
                            <th>Activity No</th>
                            <th>NO</th>
                            <th>Plate Number</th>
                            <th>Conductions Sticker No.:</th>
                            <th>CR Name:</th>
                            <th>Plate Ending</th>
                            <th>Registration Month</th>
                            <th>Model</th>
                            <th>Brand</th>
                            <th>Vehicle Make</th>
                            <th>Engine No</th>
                            <th>Chassis No</th>
                            <th>MV file No</th>
                            <th>Vehicle Type</th>
                            <th>Assignee Last Name</th>
                            <th>Assignee First Name</th>
                            <th>Vehicle Category</th>
                            <th>Band Level</th>
                            <th>Benefit Group</th>
                            <th>Cost Center</th>
                            <th>Group</th>
                            <th>Division</th>
                            <th>Department</th>
                            <th>Section</th>
                            <th>Is Id</th>
                            <th>IS Last Name</th>
                            <th>IS First Name</th>
                            <th>Location</th>
                            <th>Original OR Date</th>
                            <th>Acq Date</th>
                            <th>Acq Cost</th>
                            <th>Asset No</th>
                            <th>Equipment No</th>
                            <th>PO No</th>
                            <th>Plate No release Date</th>
                            <th>Employee ID</th>
                        </tr>
                    </thead>
                    </table>
                  </div>
                </div>
            </div>
        </div>
    </div><!-- .animated -->
</div><!-- .content -->
{% endblock %}
{% block extra_js %}
<script>
$(document).ready(function() {
    var table = $('#vtable').DataTable({
        "serverSide": true,
        "scrollX": true,
        "ajax": "/api/masterlist/?format=datatables",
        "columns": [
        { 
          "targets": 0,
          "data": "Activity_Id",
          // "render": function(data, type, row, meta){
          // var id = data.row( this ).attr("id");
          //       if(type === 'display'){
          //           data = '<a href="/VehicleMasterlist/Details/' + id + '">' + data + '</a>';
          //       }
          //       return data;
          //   }
        },
            {"data":"NO"},
            {"data":"PLATE_NO"},
            {"data":"CS_NO"},
            {"data":"CR_NAME", "sortable": false},
            {"data":"PLATE_ENDING"},
            {"data":"REGISTRATION_MONTH"},
            {"data":"MODEL"},
            {"data":"BRAND"},
            {"data":"VEHICLE_MAKE"},
            {"data":"ENGINE_NO"},
            {"data":"CHASSIS_NO"},
            {"data":"MV_FILE_NO"},
            {"data":"VEHICLE_TYPE"},
            {"data":"ASSIGNEE_LAST_NAME"},
            {"data":"ASSIGNEE_FIRST_NAME"},
            {"data":"VEHICLE_CATEGORY"},
            {"data":"BAND_LEVEL"},
            {"data":"BENEFIT_GROUP"},
            {"data":"COST_CENTER"},
            {"data":"GROUP"},
            {"data":"DIVISION"},
            {"data":"DEPARTMENT"},
            {"data":"SECTION"},
            {"data":"IS_ID"},
            {"data":"IS_LAST_NAME"},
            {"data":"IS_FIRST_NAME"},
            {"data":"LOCATION"},
            {"data":"ORIGINAL_OR_DATE"},
            {"data":"ACQ_DATE"},
            {"data":"ACQ_COST"},
            {"data":"ASSET_NO"},
            {"data":"EQUIPMENT_NO"},
            {"data":"PO_NO"},
            {"data":"PLATE_NUMBER_RELEASE_DATE"},
            {"data":"Employee"},
        ]
    });
    $('#vtable').on( 'click', 'tr', function () {
        if ( $(this).hasClass('selected') ) {
            $(this).removeClass('selected');
        }
        else {
            table.$('tr.selected').removeClass('selected');
            $(this).addClass('selected');
        }
    } );
});
</script>

{% endblock %}


